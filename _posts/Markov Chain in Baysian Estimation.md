
---
layout: post
title: MCMC에서 Markov Chain의 
date: 2017-09-10 00:00:00 +0300
description: You’ll find this post in your `_posts` directory. Go ahead and edit it and re-build the site to see your changes. # Add post description (optional)
img: js-1.png # Add image post (optional)
tags: [Js, Conference] # add tag
---


### MCMC에서의 Markov Chain : 커튼 뒤에 숨은 강아지 찾기

이 포스트에서는 MCMC 샘플링에서 Markov Chain가 왜 쓰이는지에 대해, 수식이 아닌 직관적인 예시를 통해 이해해보고자 합니다.

우선, Markov Chain이 무엇인지 알아보겠습니다.
> Chain을 일련의 사건의 나열, 또는 '어떤 상태'들의 순시(瞬時)적 나열이다.
> Markov Chain은 특정한 시점의 상태가 오로지 이전 상태에 의해서만 영향을 받는 Chain이다.
> 몇몇 조건 하에서, Markov Chain은 **초기값이 어디든 언젠가는 수렴한다**는 성질이 보장된다.

MCMC 샘플링의 목적은 최종적으로 '마치 목표 사후분포로부터 추출된 것처럼 보이는 표본'을 만드는 것입니다. 이 과정에서 Markov Chain은 어떤 역할을 할까요?

커다란 커튼 뒤에 작은 강아지 한 마리가 숨어있다고 생각해 봅시다. 
강아지는 임의의 위치에 자리 잡아 숨어있고, 움직이지 않습니다. 
이때 '강아지의 위치를 찾아내라'는 미션을 받았다고 합시다. 그럼 나는 손바닥으로 천막을 '만져가며' 강아지의 위치 분포를 파악할 수 있겠죠? 

여기서 '만지는 행위'에는 두 가지 원칙이 따릅니다.
> 1. 무수히 많이 만져 본다 : Monte Carlo
> 2. 강아지의 체온이 느껴지는 곳으로 이동한다 : Markov Chain

이 중, 두 번째 원칙에 대해서 자세히 말하자면 다음과 같습니다. 
> 마음이 이끌리는 곳부터 손을 대본다. 즉, **초기값이 어디든** 상관 없다.
> 
> 그 위치에 강아지가 실제로 숨어있다면, 체온이 느껴질 것이다. 그 쪽을 따라 손을 옮긴다. 
> 예를 들어, '손날 부위'에서 다른 손바닥 부위보다 따뜻하다고 느껴졌다면, 다음 '만짐'은 현재의 손날 부위가 위치한 방향으로 결정하는 것이다. 즉, 위치 변경은 오로지 **직전 상태**에 의존한다.
> 
> 이런 식으로 수억 회 반복하여 커튼을 더듬는다.
> 
> 이후 만지는 행위를 중단하고, 특수 안경(?)으로 커튼에 묻은 지문을 살펴보자. 
> 손바닥 지문이 분포를 형성했을 텐데, 그 중에서도 특히 지문이 빼곡히 남아있는 곳에 강아지가 숨어있을 것이라고 판단한다. 즉, **사후확률분포**를 추정해낸 것이다.

특히 MCMC에서 Markov Chain이 활용되는 것은, 오로지 '직전 단계'에 의존하여 다음 단계가 결정되는 성질 때문에 **수렴성**이 보장되기 때문입니다. 
어떻게 수렴성이 보장되는지에 대한 구체적인 근거는 수학적으로 증명되어 있지만, 이 포스트에서는 다루지 않겠습니다.

부수적으로, Monte Carlo 방법을 쓰는 이유는 Markov Chain에 따라 파악하는 강아지의 위치 분포를 충분히 '수렴하게' 만들기 위해서 커튼을 만지는 횟수를 늘려주기 위함이라고 이해할 수 있습니다. 



Written by [Kim, Simin](https://siminkim.github.io/blog).
